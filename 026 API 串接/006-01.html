<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>API 資料串接線上實作工作坊 </title>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/axios/0.19.2/axios.min.js'></script>
    <style>
           body {
        background-color: #e9ebee;
        min-width: 480px;
      }

      .navbar {
        background-color: #4267b2;
        border-bottom: 1px solid #29487d;
        color: white;
        height: 42px;
      }
        .navbar .container {
          max-width: 940px;
        }

        .navbar .navbar-brand {
          padding: 0;
        }

        .navbar .input-group {
          height: 27px;
          width: 390px;
          margin-right: 30px;
        }
        .navbar .input-group .form-control {
            height: 100%;
          }

        .navbar .input-group .btn {
            color: #4b4f56;
            display: flex;
            align-items: center;
            background-color: #f5f6f7;
            border-color: #ced4da;
            padding-top: 0;
            padding-bottom: 0;
        }
        

        .navbar .fa-facebook-square {
          color: white;
          font-size: 28px;
          line-height: 42px;
        }

        .navbar .navbar-right {
          display: flex;
          align-items: center;
        }
          .navbar .navbar-right .avatar-thumbnail {
            display: flex;
            align-items: center;
            margin-right: 12px;
            font-size: 13px;
          }  
        
          .navbar .navbar-right .avatar-thumbnail  img {
              display: block;
              width: 24px;
              min-width: 24px;
              height: 24px;
              border-radius: 100%;
              margin-right: 6px;
            }

            
          

          .navbar .navbar-right i {
            cursor: pointer;
            color: #1a2a47;
            font-size: 18px;
            margin-right: 8px;
            margin-left: 8px;
          }
          .navbar .navbar-right i:hover {
              color: #0e1525;
          }
          
        
      

      .card {
        max-width: 850px;
        border-radius: 2px;
        border: 1px solid #ccd0d5;
      }
      .card  .card-img-top {
          border-radius: 0;
          max-height: 315px;
      }
      
       .card .card-header {
          background-color: #f5f6f7;
          color: #4b4f56;
          font-size: 20px;
          font-weight: bold;
        }
        .card .card-header  i {
            font-size: 22px;
            color: #adb3bc;
        }
        
        .card .card-body {
          color: #4b4f56;
          padding: 0.75rem 1.25rem;
        }
        .card .card-body  i {
            color: #d0d2d8;
            margin-right: 0.3rem;
        }
        
      

      .header .card {
          position: relative;
          border-top: 0px;
      }

      .header .nav {
          margin-left: 160px;
      }
      .header .nav .nav-link {
          padding: 0 1rem;
          color: #365899;
          border-right: 1px solid #e9eaed;
      }

      .header .nav .nav-link.active {
          color: #4b4f56;
          cursor: default;
      }

      .header .nav .nav-link:first-child {
          border-left: 1px solid #e9eaed;
      }
        .header .name {
          position: absolute;
          left: 180px;
          bottom: 50px;
          color: white;
          text-rendering: optimizelegibility;
          text-shadow: 0 0 3px rgba(0, 0, 0, 0.8);
          font-size: 25px;
          -webkit-font-smoothing: antialiased;
          font-weight: 500;
          max-width: 275px;
        }
      
        .header .avatar {
          position: absolute;
          bottom: 20px;
          left: 20px;
          display: flex;
          align-items: center;
          justify-content: center;
          width: 140px;
          height: 140px;
          border: 3px solid white;
          border-radius: 100%;
          box-shadow: 0px 0px 3px 2px rgba(0, 0, 0, 0.15);
        }
      

      .friends .friend-avatar {
          width: 50px;
          height: 50px;
          border-radius: 50px;
      }

      .friend-avatar + .friend-avatar {
            margin-left: 5px;
      }
    </style>
    </head>
    <body>
      <!-- navbar -->
      <nav class="navbar navbar-expand-sm flex-nowrap">
        <div class="container flex-nowrap">
          <a class="navbar-brand" href="#">
            <i class="fab fa-facebook-square"></i>
          </a>

          <div class="input-group">
            <input type="text" class="form-control" placeholder="搜尋">
            <div class="input-group-append">
              <button class="btn btn-outline-secondary" type="button">
                <i class="fas fa-search"></i>
              </button>
            </div>
          </div>

          <div class="ml-auto navbar-right">
            <div class="avatar-thumbnail" data-target="avatar-thumbnail">
              
            </div>
            <i class="fas fa-user-friends"></i>
            <i class="fas fa-comment"></i>
            <i class="fas fa-bell"></i>
          </div>
        </div>
      </nav>
      <!-- /navbar -->

      <div class="container pb-5">
        <!-- header -->
        <section class="header mb-3">
          <div class="card mx-auto">
            <!--<img src="https://placeimg.com/1000/480/nature" class="card-img-top" alt="landscape">-->
            <div data-target="profile">
              <img class="avatar" src="http://api.randomuser.me/portraits/women/12.jpg" alt="avatar">
              <h3 class="name">Franklin Dianne</h3>
            </div>
            <div class="card-body">
              <nav class="nav">
                <a class="nav-link" href="#">動態時報</a>
                <a class="nav-link active" href="#">關於</a>
                <a class="nav-link" href="#">朋友</a>
              </nav>
            </div>
          </div>
        </section>
        <!-- /header -->

        <!-- about -->
        <section class="about mb-3">
          <div class="card mx-auto">
            <div class="card-header">
              <i class="fas fa-user mr-3"></i>
              <span>關於</span>
            </div>
            <div class="card-body">
              <ul class="list-group list-group-flush" data-target="personal-info">
                <li class="list-group-item">
                  <i class="fas fa-envelope fa-fw"></i>
                  <span>dianne.franklin42@example.com</span>
                </li>

                <li class="list-group-item">
                  <i class="fas fa-mobile-alt fa-fw"></i>
                  <span>(514)-125-6850</span>
                </li>

                <li class="list-group-item">
                  <i class="fas fa-map-marker-alt fa-fw"></i>
                  <span>1064 glendale st</span>
                </li>

                <li class="list-group-item">
                  <i class="fas fa-birthday-cake fa-fw"></i>
                  <span>1973/06/04</span>
                </li>

              </ul>
            </div>
          </div>
        </section>
        <!-- /about -->

        <!-- advanced: user-firends -->
        <section class="friends">
          <div class="card mx-auto">
            <div class="card-header">
              <i class="fas fa-user-friends mr-3"></i>
              <span>朋友</span>
            </div>
            <div class="card-body" data-target="user-friends">
              <img src="https://randomuser.me/api/portraits/women/58.jpg" alt="Anna Ford" class="friend-avatar">
            </div>
          </div>
        </section>
        <!-- /user-friends -->
      </div>
    
      <script>
        //var dataUrl = "https://api.randomuser.me/";
        //var dataUrl="https://cloud.culture.tw/frontsite/trans/SearchShowAction.do?method=doFindTypeJ&category=6"
        axios.get('https://api.randomuser.me/')
        .then ( response => {
            const data = response.data.results[0];
            //console.log('response',response.data.results)
            console.log(data);
            renderNavbarAvatar(data)
            renderProfile(data)
            renderPersonalInfo(data)
            renderFriends(data)
        }
        )

        function renderNavbarAvatar(data) {
          var avatar = document.querySelector('[data-target="avatar-thumbnail"]');
          //console.log(avatar);
          avatar.innerHTML = `
            <img src="${data.picture.thumbnail}" alt="avatar">
            <span>${data.name.first}</span>
          `
        }
        function renderProfile(data) {
          var Profile = document.querySelector('[data-target="profile"]');
          //console.log(Profile);
          Profile.innerHTML = `
              <img class="avatar" src="${data.picture.thumbnail}" alt="avatar">
              <h3 class="name">${data.name.first}</h3>
          `
        }
        
        function renderPersonalInfo(data) {
          var PersonalInfo = document.querySelector('[data-target="personal-info"]');
          //console.log(PersonalInfo);
          
          PersonalInfo.innerHTML = `
              <li class="list-group-item">
                  <i class="fas fa-mobile-alt fa-fw"></i>
                  <span>${data.email}</span>
              </li>
              <li class="list-group-item">
                  <i class="fas fa-mobile-alt fa-fw"></i>
                  <span>${data.cell}</span>
                </li>

                <li class="list-group-item">
                  <i class="fas fa-map-marker-alt fa-fw"></i>
                  <span>${data.location.country} ${data.location.city} ${data.location.state}</span>
                </li>

                <li class="list-group-item">
                  <i class="fas fa-birthday-cake fa-fw"></i>
                  <span>${data.dob.date.slice(0,10)}</span>
                </li>  
          `
        }
        function renderFriends(data) {
          
            var friends = document.querySelector('[data-target="user-friends"]');
            console.log(friends);
            friends.innerHTML = `
            <img src="${data.picture.thumbnail}" alt="Anna Ford" class="friend-avatar">
            `
        }

        function formatName(name) {
          return name.charAt(0).toUpperCase() + name.slice(1);
        }

        function formatDate(date) {
          return new Date(date).toLocaleDateString("zh-Hant");
        }
       
      </script>
   
  </body>
</html>